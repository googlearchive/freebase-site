
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
*/
document.createElement("canvas").getContext||function(){function j(){return this.context_||(this.context_=new I(this))}function m(d,a,b){var c=ja.call(arguments,2);return function(){return d.apply(a,c.concat(ja.call(arguments)))}}function b(d){return String(d).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function f(d){d.namespaces.g_vml_||d.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");d.namespaces.g_o_||d.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");
d.styleSheets.ex_canvas_||(d=d.createStyleSheet(),d.owningElement.id="ex_canvas_",d.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function k(d){var a=d.srcElement;switch(d.propertyName){case "width":a.getContext().clearRect();a.style.width=a.attributes.width.nodeValue+"px";a.firstChild.style.width=a.clientWidth+"px";break;case "height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+
"px"}}function a(d){d=d.srcElement;d.firstChild&&(d.firstChild.style.width=d.clientWidth+"px",d.firstChild.style.height=d.clientHeight+"px")}function c(){return[[1,0,0],[0,1,0],[0,0,1]]}function e(d,a){for(var b=c(),g=0;3>g;g++)for(var u=0;3>u;u++){for(var j=0,f=0;3>f;f++)j+=d[g][f]*a[f][u];b[g][u]=j}return b}function v(d,a){a.fillStyle=d.fillStyle;a.lineCap=d.lineCap;a.lineJoin=d.lineJoin;a.lineWidth=d.lineWidth;a.miterLimit=d.miterLimit;a.shadowBlur=d.shadowBlur;a.shadowColor=d.shadowColor;a.shadowOffsetX=
d.shadowOffsetX;a.shadowOffsetY=d.shadowOffsetY;a.strokeStyle=d.strokeStyle;a.globalAlpha=d.globalAlpha;a.font=d.font;a.textAlign=d.textAlign;a.textBaseline=d.textBaseline;a.arcScaleX_=d.arcScaleX_;a.arcScaleY_=d.arcScaleY_;a.lineScale_=d.lineScale_}function q(d){var a=d.indexOf("(",3),b=d.indexOf(")",a+1),a=d.substring(a+1,b).split(",");4==a.length&&"a"==d.substr(3,1)?alpha=Number(a[3]):a[3]=1;return a}function E(d,a,b){return Math.min(b,Math.max(a,d))}function B(d,a,b){0>b&&b++;1<b&&b--;return 1>
6*b?d+6*(a-d)*b:1>2*b?a:2>3*b?d+6*(a-d)*(2/3-b):d}function w(d){var a=1,d=String(d);if("#"!=d.charAt(0))if(/^rgb/.test(d)){for(var a=q(d),d="#",b,c=0;3>c;c++)b=-1!=a[c].indexOf("%")?Math.floor(255*(parseFloat(a[c])/100)):Number(a[c]),d+=Y[E(b,0,255)];a=a[3]}else if(/^hsl/.test(d)){d=a=q(d);h=parseFloat(d[0])/360%360;0>h&&h++;s=E(parseFloat(d[1])/100,0,1);l=E(parseFloat(d[2])/100,0,1);if(0==s)d=b=c=l;else{var c=0.5>l?l*(1+s):l+s-l*s,g=2*l-c,d=B(g,c,h+1/3);b=B(g,c,h);c=B(g,c,h-1/3)}d="#"+Y[Math.floor(255*
d)]+Y[Math.floor(255*b)]+Y[Math.floor(255*c)];a=a[3]}else d=ka[d]||d;return{color:d,alpha:a}}function r(d){switch(d){case "butt":return"flat";case "round":return"round";default:return"square"}}function I(d){this.m_=c();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*C;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=
d;var a=d.ownerDocument.createElement("div");a.style.width=d.clientWidth+"px";a.style.height=d.clientHeight+"px";a.style.overflow="hidden";a.style.position="absolute";d.appendChild(a);this.element_=a;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function S(d,a,b,c){d.currentPath_.push({type:"bezierCurveTo",cp1x:a.x,cp1y:a.y,cp2x:b.x,cp2y:b.y,x:c.x,y:c.y});d.currentX_=c.x;d.currentY_=c.y}function ca(d,a){var b=w(d.strokeStyle),c=b.color,b=b.alpha*d.globalAlpha,g=d.lineScale_*d.lineWidth;1>g&&(b*=
g);a.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',d.lineJoin,'"',' miterlimit="',d.miterLimit,'"',' endcap="',r(d.lineCap),'"',' weight="',g,'px"',' color="',c,'" />')}function fa(d,a,b,c){var g=d.fillStyle,j=d.arcScaleX_,f=d.arcScaleY_,e=c.x-b.x,k=c.y-b.y;if(g instanceof T){var m=0,t=c=0,v=0,p=1;if("gradient"==g.type_){var m=g.x1_/j,b=g.y1_/f,r=d.getCoords_(g.x0_/j,g.y0_/f),m=d.getCoords_(m,b),m=180*Math.atan2(m.x-r.x,m.y-r.y)/Math.PI;0>m&&(m+=360);1E-6>m&&(m=0)}else r=d.getCoords_(g.x0_,
g.y0_),c=(r.x-b.x)/e,t=(r.y-b.y)/k,e/=j*C,k/=f*C,p=o.max(e,k),v=2*g.r0_/p,p=2*g.r1_/p-v;j=g.colors_;j.sort(function(d,a){return d.offset-a.offset});for(var f=j.length,r=j[0].color,b=j[f-1].color,e=j[0].alpha*d.globalAlpha,d=j[f-1].alpha*d.globalAlpha,k=[],q=0;q<f;q++){var A=j[q];k.push(A.offset*p+v+" "+A.color)}a.push('<g_vml_:fill type="',g.type_,'"',' method="none" focus="100%"',' color="',r,'"',' color2="',b,'"',' colors="',k.join(","),'"',' opacity="',d,'"',' g_o_:opacity2="',e,'"',' angle="',
m,'"',' focusposition="',c,",",t,'" />')}else g instanceof V?e&&k&&a.push("<g_vml_:fill",' position="',-b.x/e*j*j,",",-b.y/k*f*f,'"',' type="tile"',' src="',g.src_,'" />'):(g=w(d.fillStyle),a.push('<g_vml_:fill color="',g.color,'" opacity="',g.alpha*d.globalAlpha,'" />'))}function W(d,a,b){isFinite(a[0][0])&&(isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1]))&&(d.m_=a,b&&(d.lineScale_=ma(na(a[0][0]*a[1][1]-a[0][1]*a[1][0]))))}function T(a){this.type_=a;
this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function V(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new g("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new g("INVALID_STATE_ERR");switch(b){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=b;break;default:throw new g("SYNTAX_ERR");}this.src_=a.src;this.width_=a.width;this.height_=a.height}function g(a){this.code=this[a];this.message=
a+": DOM Exception "+this.code}var o=Math,t=o.round,$=o.sin,da=o.cos,na=o.abs,ma=o.sqrt,C=10,R=C/2,ja=Array.prototype.slice;f(document);var ha={init:function(a){/MSIE/.test(navigator.userAgent)&&!window.opera&&(a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",m(this.init_,this,a)))},init_:function(a){for(var a=a.getElementsByTagName("canvas"),b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(d){if(!d.getContext){d.getContext=j;f(d.ownerDocument);d.innerHTML=
"";d.attachEvent("onpropertychange",k);d.attachEvent("onresize",a);var b=d.attributes;b.width&&b.width.specified?d.style.width=b.width.nodeValue+"px":d.width=d.clientWidth;b.height&&b.height.specified?d.style.height=b.height.nodeValue+"px":d.height=d.clientHeight}return d}};ha.init();for(var Y=[],p=0;16>p;p++)for(var ga=0;16>ga;ga++)Y[16*p+ga]=p.toString(16)+ga.toString(16);var ka={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",
blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",
darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",
khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",
mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",
peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},
A={},p=I.prototype;p.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};p.beginPath=function(){this.currentPath_=[]};p.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};p.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};p.bezierCurveTo=function(a,
b,c,g,j,f){j=this.getCoords_(j,f);a=this.getCoords_(a,b);c=this.getCoords_(c,g);S(this,a,c,j)};p.quadraticCurveTo=function(a,b,c,g){a=this.getCoords_(a,b);c=this.getCoords_(c,g);g={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};S(this,g,{x:g.x+(c.x-this.currentX_)/3,y:g.y+(c.y-this.currentY_)/3},c)};p.arc=function(a,b,c,g,j,f){var c=c*C,e=f?"at":"wa",m=a+da(g)*c-R,k=b+$(g)*c-R,g=a+da(j)*c-R,j=b+$(j)*c-R;m==g&&!f&&(m+=0.125);a=this.getCoords_(a,b);m=this.getCoords_(m,
k);g=this.getCoords_(g,j);this.currentPath_.push({type:e,x:a.x,y:a.y,radius:c,xStart:m.x,yStart:m.y,xEnd:g.x,yEnd:g.y})};p.rect=function(a,b,c,g){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+g);this.lineTo(a,b+g);this.closePath()};p.strokeRect=function(a,b,c,g){var j=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+g);this.lineTo(a,b+g);this.closePath();this.stroke();this.currentPath_=j};p.fillRect=function(a,b,c,g){var j=this.currentPath_;this.beginPath();
this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+g);this.lineTo(a,b+g);this.closePath();this.fill();this.currentPath_=j};p.createLinearGradient=function(a,b,c,g){var j=new T("gradient");j.x0_=a;j.y0_=b;j.x1_=c;j.y1_=g;return j};p.createRadialGradient=function(a,b,c,g,j,f){var e=new T("gradientradial");e.x0_=a;e.y0_=b;e.r0_=c;e.x1_=g;e.y1_=j;e.r1_=f;return e};p.drawImage=function(a,b){var c,g,j,f,e,m,k,v;j=a.runtimeStyle.width;f=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height=
"auto";var r=a.width,p=a.height;a.runtimeStyle.width=j;a.runtimeStyle.height=f;if(3==arguments.length)c=arguments[1],g=arguments[2],e=m=0,k=j=r,v=f=p;else if(5==arguments.length)c=arguments[1],g=arguments[2],j=arguments[3],f=arguments[4],e=m=0,k=r,v=p;else if(9==arguments.length)e=arguments[1],m=arguments[2],k=arguments[3],v=arguments[4],c=arguments[5],g=arguments[6],j=arguments[7],f=arguments[8];else throw Error("Invalid number of arguments");var q=this.getCoords_(c,g),A=[];A.push(" <g_vml_:group",
' coordsize="',10*C,",",10*C,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var w=[];w.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",t(q.x/C),",","Dy=",t(q.y/C),"");var E=this.getCoords_(c+j,g),I=this.getCoords_(c,g+f);c=this.getCoords_(c+j,g+f);q.x=o.max(q.x,E.x,I.x,c.x);q.y=o.max(q.y,E.y,I.y,c.y);A.push("padding:0 ",t(q.x/C),
"px ",t(q.y/C),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",w.join(""),", sizingmethod='clip');")}else A.push("top:",t(q.y/C),"px;left:",t(q.x/C),"px;");A.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',C*j,"px;"," height:",C*f,'px"',' cropleft="',e/r,'"',' croptop="',m/p,'"',' cropright="',(r-e-k)/r,'"',' cropbottom="',(p-m-v)/p,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",A.join(""))};p.stroke=function(a){for(var b={x:null,y:null},c={x:null,y:null},
g=0;g<this.currentPath_.length;g+=5E3){var j=[];j.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*C,",",10*C,'"',' stroked="',!a,'"',' path="');for(var f=g;f<Math.min(g+5E3,this.currentPath_.length);f++){0==f%5E3&&0<f&&j.push(" m ",t(this.currentPath_[f-1].x),",",t(this.currentPath_[f-1].y));var e=this.currentPath_[f];switch(e.type){case "moveTo":j.push(" m ",t(e.x),",",t(e.y));break;case "lineTo":j.push(" l ",
t(e.x),",",t(e.y));break;case "close":j.push(" x ");e=null;break;case "bezierCurveTo":j.push(" c ",t(e.cp1x),",",t(e.cp1y),",",t(e.cp2x),",",t(e.cp2y),",",t(e.x),",",t(e.y));break;case "at":case "wa":j.push(" ",e.type," ",t(e.x-this.arcScaleX_*e.radius),",",t(e.y-this.arcScaleY_*e.radius)," ",t(e.x+this.arcScaleX_*e.radius),",",t(e.y+this.arcScaleY_*e.radius)," ",t(e.xStart),",",t(e.yStart)," ",t(e.xEnd),",",t(e.yEnd))}if(e){if(null==b.x||e.x<b.x)b.x=e.x;if(null==c.x||e.x>c.x)c.x=e.x;if(null==b.y||
e.y<b.y)b.y=e.y;if(null==c.y||e.y>c.y)c.y=e.y}}j.push(' ">');a?fa(this,j,b,c):ca(this,j);j.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",j.join(""))}};p.fill=function(){this.stroke(!0)};p.closePath=function(){this.currentPath_.push({type:"close"})};p.getCoords_=function(a,b){var c=this.m_;return{x:C*(a*c[0][0]+b*c[1][0]+c[2][0])-R,y:C*(a*c[0][1]+b*c[1][1]+c[2][1])-R}};p.save=function(){var a={};v(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=e(c(),this.m_)};
p.restore=function(){this.aStack_.length&&(v(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};p.translate=function(a,b){W(this,e([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)};p.rotate=function(a){var b=da(a),a=$(a);W(this,e([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};p.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;W(this,e([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};p.transform=function(a,b,c,g,j,f){W(this,e([[a,b,0],[c,g,0],[j,f,1]],this.m_),!0)};p.setTransform=function(a,b,c,g,j,e){W(this,[[a,
b,0],[c,g,0],[j,e,1]],!0)};p.drawText_=function(a,c,g,j,e){var f=this.m_,j=0,m=1E3,k=0,o=[],v;v=this.font;if(A[v])v=A[v];else{var r=document.createElement("div").style;try{r.font=v}catch(p){}v=A[v]={style:r.fontStyle||"normal",variant:r.fontVariant||"normal",weight:r.fontWeight||"normal",size:r.fontSize||10,family:r.fontFamily||"sans-serif"}}var r=v,q=this.element_;v={};for(var w in r)v[w]=r[w];w=parseFloat(q.currentStyle.fontSize);q=parseFloat(r.size);v.size="number"==typeof r.size?r.size:-1!=r.size.indexOf("px")?
q:-1!=r.size.indexOf("em")?w*q:-1!=r.size.indexOf("%")?w/100*q:-1!=r.size.indexOf("pt")?q/0.75:w;v.size*=0.981;w=v.style+" "+v.variant+" "+v.weight+" "+v.size+"px "+v.family;q=this.element_.currentStyle;r=this.textAlign.toLowerCase();switch(r){case "left":case "center":case "right":break;case "end":r="ltr"==q.direction?"right":"left";break;case "start":r="rtl"==q.direction?"right":"left";break;default:r="left"}switch(this.textBaseline){case "hanging":case "top":k=v.size/1.75;break;case "middle":break;
default:case null:case "alphabetic":case "ideographic":case "bottom":k=-v.size/2.25}switch(r){case "right":j=1E3;m=0.05;break;case "center":j=m=500}c=this.getCoords_(c+0,g+k);o.push('<g_vml_:line from="',-j,' 0" to="',m,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!e,'" stroked="',!!e,'" style="position:absolute;width:1px;height:1px;">');e?ca(this,o):fa(this,o,{x:-j,y:0},{x:m,y:v.size});e=f[0][0].toFixed(3)+","+f[1][0].toFixed(3)+","+f[0][1].toFixed(3)+","+f[1][1].toFixed(3)+",0,0";
c=t(c.x/C)+","+t(c.y/C);o.push('<g_vml_:skew on="t" matrix="',e,'" ',' offset="',c,'" origin="',j,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',b(a),'" style="v-text-align:',r,";font:",b(w),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",o.join(""))};p.fillText=function(a,b,c,g){this.drawText_(a,b,c,g,!1)};p.strokeText=function(a,b,c,g){this.drawText_(a,b,c,g,!0)};p.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",
'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};p.clip=function(){};p.arcTo=function(){};p.createPattern=function(a,b){return new V(a,b)};T.prototype.addColorStop=function(a,b){b=w(b);this.colors_.push({offset:a,
color:b.color,alpha:b.alpha})};p=g.prototype=Error();p.INDEX_SIZE_ERR=1;p.DOMSTRING_SIZE_ERR=2;p.HIERARCHY_REQUEST_ERR=3;p.WRONG_DOCUMENT_ERR=4;p.INVALID_CHARACTER_ERR=5;p.NO_DATA_ALLOWED_ERR=6;p.NO_MODIFICATION_ALLOWED_ERR=7;p.NOT_FOUND_ERR=8;p.NOT_SUPPORTED_ERR=9;p.INUSE_ATTRIBUTE_ERR=10;p.INVALID_STATE_ERR=11;p.SYNTAX_ERR=12;p.INVALID_MODIFICATION_ERR=13;p.NAMESPACE_ERR=14;p.INVALID_ACCESS_ERR=15;p.VALIDATION_ERR=16;p.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=ha;CanvasRenderingContext2D=I;CanvasGradient=
T;CanvasPattern=V;DOMException=g}();
(function(){jQuery.color={};jQuery.color.make=function(j,b,f,k){var a={};a.r=j||0;a.g=b||0;a.b=f||0;a.a=null!=k?k:1;a.add=function(b,j){for(var f=0;f<b.length;++f)a[b.charAt(f)]+=j;return a.normalize()};a.scale=function(b,j){for(var f=0;f<b.length;++f)a[b.charAt(f)]*=j;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,c,j){return c<a?a:c>j?j:c}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),
255);a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(j,b){var f;do{f=j.css(b).toLowerCase();if(""!=f&&"transparent"!=f)break;j=j.parent()}while(!jQuery.nodeName(j.get(0),"body"));"rgba(0, 0, 0, 0)"==f&&(f="transparent");return jQuery.color.parse(f)};jQuery.color.parse=function(m){var b,f=jQuery.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(m))return f(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return f(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(m))return f(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return f(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(m))return f(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(m))return f(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));m=jQuery.trim(m).toLowerCase();if("transparent"==m)return f(255,255,255,0);b=j[m];return f(b[0],b[1],b[2])};var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(j){function m(f,m,a,c){function e(a,b){for(var b=[G].concat(b),y=0;y<a.length;++y)a[y].apply(this,b)}function v(a){for(var b=[],y=0;y<a.length;++y){var c=j.extend(!0,{},d.series);a[y].data?(c.data=a[y].data,delete a[y].data,j.extend(!0,c,a[y]),a[y].data=c.data):c.data=a[y];b.push(c)}A=b;b=A.length;y=[];c=[];for(a=0;a<A.length;++a){var n=A[a].color;null!=n&&(--b,"number"==typeof n?c.push(n):y.push(j.color.parse(A[a].color)))}for(a=0;a<c.length;++a)b=Math.max(b,c[a]+1);y=[];for(a=c=0;y.length<
b;)n=d.colors.length==a?j.color.make(100,100,100):j.color.parse(d.colors[a]),n.scale("rgb",1+0.2*(1==c%2?-1:1)*Math.ceil(c/2)),y.push(n),++a,a>=d.colors.length&&(a=0,++c);for(a=b=0;a<A.length;++a){c=A[a];null==c.color?(c.color=y[b].toString(),++b):"number"==typeof c.color&&(c.color=y[c.color].toString());if(null==c.lines.show){var g,n=!0;for(g in c)if(c[g]&&c[g].show){n=!1;break}n&&(c.lines.show=!0)}c.xaxis=w(D,q(c,"x"));c.yaxis=w(K,q(c,"y"))}b=function(a){a&&(a.datamin=f,a.datamax=m,a.used=!1)};
g=function(a,b,c){b<a.datamin&&(a.datamin=b);c>a.datamax&&(a.datamax=c)};for(var f=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,k,F,J,o,r,a=0;a<D.length;++a)b(D[a]);for(a=0;a<K.length;++a)b(K[a]);for(a=0;a<A.length;++a)b=A[a],b.datapoints={points:[]},e(Q.processRawData,[b,b.data,b.datapoints]);for(a=0;a<A.length;++a){var b=A[a],aa=b.data,M=b.datapoints.format;if(!M){M=[];M.push({x:!0,number:!0,required:!0});M.push({y:!0,number:!0,required:!0});if(b.bars.show||b.lines.show&&b.lines.fill)M.push({y:!0,
number:!0,required:!1,defaultValue:0}),b.bars.horizontal&&(delete M[M.length-1].y,M[M.length-1].x=!0);b.datapoints.format=M}if(null==b.datapoints.pointsize){null==b.datapoints.pointsize&&(b.datapoints.pointsize=M.length);F=b.datapoints.pointsize;n=b.datapoints.points;insertSteps=b.lines.show&&b.lines.steps;b.xaxis.used=b.yaxis.used=!0;for(y=k=0;y<aa.length;++y,k+=F){r=aa[y];var v=null==r;if(!v)for(c=0;c<F;++c){J=r[c];if(o=M[c])if(o.number&&null!=J&&(J=+J,isNaN(J)&&(J=null)),null==J)o.required&&(v=
!0),null!=o.defaultValue&&(J=o.defaultValue);n[k+c]=J}if(v)for(c=0;c<F;++c)J=n[k+c],null!=J&&(o=M[c],o.x&&g(b.xaxis,J,J),o.y&&g(b.yaxis,J,J)),n[k+c]=null;else if(insertSteps&&0<k&&null!=n[k-F]&&n[k-F]!=n[k]&&n[k-F+1]!=n[k+1]){for(c=0;c<F;++c)n[k+F+c]=n[k+c];n[k+1]=n[k-F+1];k+=F}}}}for(a=0;a<A.length;++a)b=A[a],e(Q.processDatapoints,[b,b.datapoints]);for(a=0;a<A.length;++a){b=A[a];n=b.datapoints.points;F=b.datapoints.pointsize;r=k=f;v=aa=m;for(y=0;y<n.length;y+=F)if(null!=n[y])for(c=0;c<F;++c)if(J=
n[y+c],o=M[c])if(o.x&&(J<k&&(k=J),J>aa&&(aa=J)),o.y)J<r&&(r=J),J>v&&(v=J);b.bars.show&&(y="left"==b.bars.align?0:-b.bars.barWidth/2,b.bars.horizontal?(r+=y,v+=y+b.bars.barWidth):(k+=y,aa+=y+b.bars.barWidth));g(b.xaxis,k,aa);g(b.yaxis,r,v)}j.each(B(),function(a,b){b.datamin==f&&(b.datamin=null);b.datamax==m&&(b.datamax=null)})}function q(a,b){var c=a[b+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function E(a){var b={},c,g;for(c=0;c<D.length;++c)(g=D[c])&&g.used&&(b["x"+g.n]=
g.c2p(a.left));for(c=0;c<K.length;++c)(g=K[c])&&g.used&&(b["y"+g.n]=g.c2p(a.top));void 0!==b.x1&&(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function B(){var a=[],b,c;for(b=0;b<D.length;++b)(c=D[b])&&c.used&&a.push(c);for(b=0;b<K.length;++b)(c=K[b])&&c.used&&a.push(c);return a}function w(a,b){a[b-1]||(a[b-1]={n:b,direction:a==D?"x":"y",options:j.extend(!0,{},a==D?d.xaxis:d.yaxis)});return a[b-1]}function r(a){function b(a){return a}var c,g,n=a.options.transform||b,j=a.options.inverseTransform;"x"==
a.direction?(c=a.scale=X/(n(a.max)-n(a.min)),g=n(a.min),a.p2c=n==b?function(a){return(a-g)*c}:function(a){return(n(a)-g)*c},a.c2p=j?function(a){return j(g+a/c)}:function(a){return g+a/c}):(c=a.scale=P/(n(a.max)-n(a.min)),g=n(a.max),a.p2c=n==b?function(a){return(g-a)*c}:function(a){return(g-n(a))*c},a.c2p=j?function(a){return j(g-a/c)}:function(a){return g-a/c})}function I(a){function b(c,g){return j('<div style="position:absolute;top:-10000px;'+g+'font-size:smaller"><div class="'+a.direction+"Axis "+
a.direction+a.n+'Axis">'+c.join("")+"</div></div>").appendTo(f)}if(a){var c=a.options,g,n=a.ticks||[],d=[],e,k=c.labelWidth,c=c.labelHeight;if("x"==a.direction){if(null==k&&(k=Math.floor(N/(0<n.length?n.length:1))),null==c){d=[];for(g=0;g<n.length;++g)(e=n[g].label)&&d.push('<div class="tickLabel" style="float:left;width:'+k+'px">'+e+"</div>");0<d.length&&(d.push('<div style="clear:left"></div>'),n=b(d,"width:10000px;"),c=n.height(),n.remove())}}else if(null==k||null==c){for(g=0;g<n.length;++g)(e=
n[g].label)&&d.push('<div class="tickLabel">'+e+"</div>");0<d.length&&(n=b(d,""),null==k&&(k=n.children().width()),null==c&&(c=n.find("div.tickLabel").height()),n.remove())}null==k&&(k=0);null==c&&(c=0);a.labelWidth=k;a.labelHeight=c}}function S(a){if(a&&(a.used||a.labelWidth||a.labelHeight)){var b=a.labelWidth,c=a.labelHeight,g=a.options.position,n=a.options.tickLength,f=d.grid.axisMargin,e=d.grid.labelMargin,k="x"==a.direction?D:K,m=j.grep(k,function(a){return a&&a.options.position==g&&(a.labelHeight||
a.labelWidth)});j.inArray(a,m)==m.length-1&&(f=0);null==n&&(n="full");k=j.grep(k,function(a){return a&&(a.labelHeight||a.labelWidth)});k=0==j.inArray(a,k);!k&&"full"==n&&(n=5);isNaN(+n)||(e+=+n);"x"==a.direction?(c+=e,"bottom"==g?(z.bottom+=c+f,a.box={top:O-z.bottom,height:c}):(a.box={top:z.top+f,height:c},z.top+=c+f)):(b+=e,"left"==g?(a.box={left:z.left+f,width:b},z.left+=b+f):(z.right+=b+f,a.box={left:N-z.right,width:b}));a.position=g;a.tickLength=n;a.box.padding=e;a.innermost=k}}function ca(){var a=
B(),b;for(b=0;b<a.length;++b){var c=a[b],g=c.options,n=+(null!=g.min?g.min:c.datamin),e=+(null!=g.max?g.max:c.datamax),k=e-n;if(0==k){if(k=0==e?1:0.01,null==g.min&&(n-=k),null==g.max||null!=g.min)e+=k}else{var m=g.autoscaleMargin;if(null!=m&&(null==g.min&&(n-=k*m,0>n&&(null!=c.datamin&&0<=c.datamin)&&(n=0)),null==g.max))e+=k*m,0<e&&(null!=c.datamax&&0>=c.datamax)&&(e=0)}c.min=n;c.max=e}z.left=z.right=z.top=z.bottom=0;if(d.grid.show){for(b=0;b<a.length;++b){fa(a[b]);c=a[b];c.ticks=[];n=c.options.ticks;
g=null;null==n||"number"==typeof n&&0<n?g=c.tickGenerator(c):n&&(g=j.isFunction(n)?n({min:c.min,max:c.max}):n);e=n=void 0;for(n=0;n<g.length;++n)k=null,m=g[n],"object"==typeof m?(e=m[0],1<m.length&&(k=m[1])):e=m,null==k&&(k=c.tickFormatter(e,c)),c.ticks[n]={v:e,label:k};c=a[b];g=a[b].ticks;if(null!=c.options.autoscaleMargin&&0<g.length&&(null==c.options.min&&(c.min=Math.min(c.min,g[0].v)),null==c.options.max&&1<g.length))c.max=Math.max(c.max,g[g.length-1].v)}for(b=0;b<D.length;++b)I(D[b]);for(b=0;b<
K.length;++b)I(K[b]);for(b=D.length-1;0<=b;--b)S(D[b]);for(b=K.length-1;0<=b;--b)S(K[b]);for(c=b=0;c<A.length;++c)b=Math.max(b,2*(A[c].points.radius+A[c].points.lineWidth/2));for(var o in z)z[o]+=d.grid.borderWidth,z[o]=Math.max(b,z[o])}X=N-z.left-z.right;P=O-z.bottom-z.top;for(b=0;b<a.length;++b)r(a[b]);if(d.grid.show){for(b=0;b<a.length;++b)o=a[b],"x"==o.direction?(o.box.left=z.left,o.box.width=X):(o.box.top=z.top,o.box.height=P);f.find(".tickLabels").remove();a=['<div class="tickLabels" style="font-size:smaller">'];
o=B();for(b=0;b<o.length;++b){c=o[b];g=c.box;a.push('<div class="'+c.direction+"Axis "+c.direction+c.n+'Axis" style="color:'+c.options.color+'">');for(n=0;n<c.ticks.length;++n)if(e=c.ticks[n],e.label&&!(e.v<c.min||e.v>c.max)){k={};"x"==c.direction?(m="center",k.left=Math.round(z.left+c.p2c(e.v)-c.labelWidth/2),"bottom"==c.position?k.top=g.top+g.padding:k.bottom=O-(g.top+g.height-g.padding)):(k.top=Math.round(z.top+c.p2c(e.v)-c.labelHeight/2),"left"==c.position?(k.right=N-(g.left+g.width-g.padding),
m="right"):(k.left=g.left+g.padding,m="left"));k.width=c.labelWidth;var m=["position:absolute","text-align:"+m],F;for(F in k)m.push(F+":"+k[F]+"px");a.push('<div class="tickLabel" style="'+m.join(";")+'">'+e.label+"</div>")}a.push("</div>")}a.push("</div>");f.append(a.join(""))}f.find(".legend").remove();if(d.legend.show){F=[];a=!1;o=d.legend.labelFormatter;for(g=0;g<A.length;++g)if(b=A[g],c=b.label)0==g%d.legend.noColumns&&(a&&F.push("</tr>"),F.push("<tr>"),a=!0),o&&(c=o(c,b)),F.push('<td class="legendColorBox"><div style="border:1px solid '+
d.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+b.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+c+"</td>");a&&F.push("</tr>");0!=F.length&&(a='<table style="font-size:smaller;color:'+d.grid.color+'">'+F.join("")+"</table>",null!=d.legend.container?j(d.legend.container).html(a):(F="",o=d.legend.position,b=d.legend.margin,null==b[0]&&(b=[b,b]),"n"==o.charAt(0)?F+="top:"+(b[1]+z.top)+"px;":"s"==o.charAt(0)&&(F+="bottom:"+(b[1]+z.bottom)+
"px;"),"e"==o.charAt(1)?F+="right:"+(b[0]+z.right)+"px;":"w"==o.charAt(1)&&(F+="left:"+(b[0]+z.left)+"px;"),a=j('<div class="legend">'+a.replace('style="','style="position:absolute;'+F+";")+"</div>").appendTo(f),0!=d.legend.backgroundOpacity&&(o=d.legend.backgroundColor,null==o&&(o=(o=d.grid.backgroundColor)&&"string"==typeof o?j.color.parse(o):j.color.extract(a,"background-color"),o.a=1,o=o.toString()),b=a.children(),j('<div style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+
F+"background-color:"+o+';"> </div>').prependTo(a).css("opacity",d.legend.backgroundOpacity))))}}function fa(a){var c=a.options,g;g="number"==typeof c.ticks&&0<c.ticks?c.ticks:"x"==a.direction?0.3*Math.sqrt(N):0.3*Math.sqrt(O);g=(a.max-a.min)/g;var d,n,e,f;if("time"==c.mode){var k={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};f=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],
[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];d=0;null!=c.minTickSize&&(d="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*k[c.minTickSize[1]]);for(n=0;n<f.length-1&&!(g<(f[n][0]*k[f[n][1]]+f[n+1][0]*k[f[n+1][1]])/2&&f[n][0]*k[f[n][1]]>=d);++n);d=f[n][0];e=f[n][1];"year"==e&&(n=Math.pow(10,Math.floor(Math.log(g/k.year)/Math.LN10)),f=g/k.year/n,d=(1.5>f?1:3>f?2:7.5>f?5:10)*n);
a.tickSize=c.tickSize||[d,e];n=function(a){var c=[],g=a.tickSize[0],n=a.tickSize[1],d=new Date(a.min),e=g*k[n];n=="second"&&d.setUTCSeconds(b(d.getUTCSeconds(),g));n=="minute"&&d.setUTCMinutes(b(d.getUTCMinutes(),g));n=="hour"&&d.setUTCHours(b(d.getUTCHours(),g));n=="month"&&d.setUTCMonth(b(d.getUTCMonth(),g));n=="year"&&d.setUTCFullYear(b(d.getUTCFullYear(),g));d.setUTCMilliseconds(0);e>=k.minute&&d.setUTCSeconds(0);e>=k.hour&&d.setUTCMinutes(0);e>=k.day&&d.setUTCHours(0);e>=k.day*4&&d.setUTCDate(1);
e>=k.year&&d.setUTCMonth(0);var j=0,f=Number.NaN,H;do{H=f;f=d.getTime();c.push(f);if(n=="month")if(g<1){d.setUTCDate(1);var y=d.getTime();d.setUTCMonth(d.getUTCMonth()+1);var m=d.getTime();d.setTime(f+j*k.hour+(m-y)*g);j=d.getUTCHours();d.setUTCHours(0)}else d.setUTCMonth(d.getUTCMonth()+g);else n=="year"?d.setUTCFullYear(d.getUTCFullYear()+g):d.setTime(f+e)}while(f<a.max&&f!=H);return c};d=function(a,b){var g=new Date(a);if(c.timeformat!=null)return j.plot.formatDate(g,c.timeformat,c.monthNames);
var d=b.tickSize[0]*k[b.tickSize[1]],n=b.max-b.min,e=c.twelveHourClock?" %p":"";fmt=d<k.minute?"%h:%M:%S"+e:d<k.day?n<2*k.day?"%h:%M"+e:"%b %d %h:%M"+e:d<k.month?"%b %d":d<k.year?n<k.year?"%b":"%b %y":"%y";return j.plot.formatDate(g,fmt,c.monthNames)}}else{e=c.tickDecimals;var m=-Math.floor(Math.log(g)/Math.LN10);null!=e&&m>e&&(m=e);n=Math.pow(10,-m);f=g/n;if(1.5>f)d=1;else if(3>f){if(d=2,2.25<f&&(null==e||m+1<=e))d=2.5,++m}else d=7.5>f?5:10;d*=n;null!=c.minTickSize&&d<c.minTickSize&&(d=c.minTickSize);
a.tickDecimals=Math.max(0,null!=e?e:m);a.tickSize=c.tickSize||d;n=function(a){var c=[],g=b(a.min,a.tickSize),d=0,n=Number.NaN,e;do{e=n;n=g+d*a.tickSize;c.push(n);++d}while(n<a.max&&n!=e);return c};d=function(a,b){return a.toFixed(b.tickDecimals)}}if(null!=c.alignTicksWithAxis){var o=("x"==a.direction?D:K)[c.alignTicksWithAxis-1];if(o&&o.used&&o!=a){n=n(a);if(0<n.length&&(null==c.min&&(a.min=Math.min(a.min,n[0])),null==c.max&&1<n.length))a.max=Math.max(a.max,n[n.length-1]);n=function(a){var b=[],c,
g;for(g=0;g<o.ticks.length;++g)c=(o.ticks[g].v-o.min)/(o.max-o.min),c=a.min+c*(a.max-a.min),b.push(c);return b};"time"!=a.mode&&null==c.tickDecimals&&(g=Math.max(0,-Math.floor(Math.log(g)/Math.LN10)+1),f=n(a),1<f.length&&/\..*0$/.test((f[1]-f[0]).toFixed(g))||(a.tickDecimals=g))}}a.tickGenerator=n;a.tickFormatter=j.isFunction(c.tickFormatter)?function(a,b){return""+c.tickFormatter(a,b)}:d}function W(){u.clearRect(0,0,N,O);var a=d.grid;a.show&&!a.aboveData&&V();for(var b=0;b<A.length;++b){e(Q.drawSeries,
[u,A[b]]);var c=A[b];c.lines.show&&g(c);c.bars.show&&$(c);c.points.show&&o(c)}e(Q.draw,[u]);a.show&&a.aboveData&&V()}function T(a,b){var c,g,d,e,f;e=B();for(i=0;i<e.length;++i)if(c=e[i],c.direction==b&&(f=b+c.n+"axis",!a[f]&&1==c.n&&(f=b+"axis"),a[f])){g=a[f].from;d=a[f].to;break}a[f]||(c="x"==b?D[0]:K[0],g=a[b+"1"],d=a[b+"2"]);null!=g&&(null!=d&&g>d)&&(e=g,g=d,d=e);return{from:g,to:d,axis:c}}function V(){var a;u.save();u.translate(z.left,z.top);d.grid.backgroundColor&&(u.fillStyle=ka(d.grid.backgroundColor,
P,0,"rgba(255, 255, 255, 0)"),u.fillRect(0,0,X,P));var b=d.grid.markings;if(b){if(j.isFunction(b)){var c=G.getAxes();c.xmin=c.xaxis.min;c.xmax=c.xaxis.max;c.ymin=c.yaxis.min;c.ymax=c.yaxis.max;b=b(c)}for(a=0;a<b.length;++a){var c=b[a],g=T(c,"x"),n=T(c,"y");null==g.from&&(g.from=g.axis.min);null==g.to&&(g.to=g.axis.max);null==n.from&&(n.from=n.axis.min);null==n.to&&(n.to=n.axis.max);g.to<g.axis.min||(g.from>g.axis.max||n.to<n.axis.min||n.from>n.axis.max)||(g.from=Math.max(g.from,g.axis.min),g.to=Math.min(g.to,
g.axis.max),n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),g.from==g.to&&n.from==n.to||(g.from=g.axis.p2c(g.from),g.to=g.axis.p2c(g.to),n.from=n.axis.p2c(n.from),n.to=n.axis.p2c(n.to),g.from==g.to||n.from==n.to?(u.beginPath(),u.strokeStyle=c.color||d.grid.markingsColor,u.lineWidth=c.lineWidth||d.grid.markingsLineWidth,u.moveTo(g.from,n.from),u.lineTo(g.to,n.to),u.stroke()):(u.fillStyle=c.color||d.grid.markingsColor,u.fillRect(g.from,n.to,g.to-g.from,n.from-n.to))))}}c=B();b=d.grid.borderWidth;
for(g=0;g<c.length;++g){n=c[g];a=n.box;var e=n.tickLength,f,k,m,o;u.strokeStyle=n.options.tickColor||j.color.parse(n.options.color).scale("a",0.22).toString();u.lineWidth=1;"x"==n.direction?(f=0,k="full"==e?"top"==n.position?0:P:a.top-z.top+("top"==n.position?a.height:0)):(k=0,f="full"==e?"left"==n.position?0:X:a.left-z.left+("left"==n.position?a.width:0));n.innermost||(u.beginPath(),m=o=0,"x"==n.direction?m=X:o=P,1==u.lineWidth&&(f=Math.floor(f)+0.5,k=Math.floor(k)+0.5),u.moveTo(f,k),u.lineTo(f+
m,k+o),u.stroke());u.beginPath();for(a=0;a<n.ticks.length;++a){var r=n.ticks[a].v;m=o=0;r<n.min||(r>n.max||"full"==e&&0<b&&(r==n.min||r==n.max))||("x"==n.direction?(f=n.p2c(r),o="full"==e?-P:e,"top"==n.position&&(o=-o)):(k=n.p2c(r),m="full"==e?-X:e,"left"==n.position&&(m=-m)),1==u.lineWidth&&("x"==n.direction?f=Math.floor(f)+0.5:k=Math.floor(k)+0.5),u.moveTo(f,k),u.lineTo(f+m,k+o))}u.stroke()}b&&(u.lineWidth=b,u.strokeStyle=d.grid.borderColor,u.strokeRect(-b/2,-b/2,X+b,P+b));u.restore()}function g(a){function b(a,
c,g,d,e){var f=a.points,a=a.pointsize,j=null,n=null;u.beginPath();for(var k=a;k<f.length;k+=a){var m=f[k-a],o=f[k-a+1],H=f[k],y=f[k+1];if(!(null==m||null==H)){if(o<=y&&o<e.min){if(y<e.min)continue;m=(e.min-o)/(y-o)*(H-m)+m;o=e.min}else if(y<=o&&y<e.min){if(o<e.min)continue;H=(e.min-o)/(y-o)*(H-m)+m;y=e.min}if(o>=y&&o>e.max){if(y>e.max)continue;m=(e.max-o)/(y-o)*(H-m)+m;o=e.max}else if(y>=o&&y>e.max){if(o>e.max)continue;H=(e.max-o)/(y-o)*(H-m)+m;y=e.max}if(m<=H&&m<d.min){if(H<d.min)continue;o=(d.min-
m)/(H-m)*(y-o)+o;m=d.min}else if(H<=m&&H<d.min){if(m<d.min)continue;y=(d.min-m)/(H-m)*(y-o)+o;H=d.min}if(m>=H&&m>d.max){if(H>d.max)continue;o=(d.max-m)/(H-m)*(y-o)+o;m=d.max}else if(H>=m&&H>d.max){if(m>d.max)continue;y=(d.max-m)/(H-m)*(y-o)+o;H=d.max}(m!=j||o!=n)&&u.moveTo(d.p2c(m)+c,e.p2c(o)+g);j=H;n=y;u.lineTo(d.p2c(H)+c,e.p2c(y)+g)}}u.stroke()}u.save();u.translate(z.left,z.top);u.lineJoin="round";var c=a.lines.lineWidth,g=a.shadowSize;if(0<c&&0<g){u.lineWidth=g;u.strokeStyle="rgba(0,0,0,0.1)";
var d=Math.PI/18;b(a.datapoints,Math.sin(d)*(c/2+g/2),Math.cos(d)*(c/2+g/2),a.xaxis,a.yaxis);u.lineWidth=g/2;b(a.datapoints,Math.sin(d)*(c/2+g/4),Math.cos(d)*(c/2+g/4),a.xaxis,a.yaxis)}u.lineWidth=c;u.strokeStyle=a.color;if(g=da(a.lines,a.color,0,P)){u.fillStyle=g;for(var e=a.datapoints,g=a.xaxis,d=a.yaxis,f=e.points,e=e.pointsize,j=Math.min(Math.max(0,d.min),d.max),k=0,m=!1,o=1,r=0,v=0;!(0<e&&k>f.length+e);){var k=k+e,t=f[k-e],q=f[k-e+o],p=f[k],w=f[k+o];if(m){if(0<e&&null!=t&&null==p){v=k;e=-e;o=
2;continue}if(0>e&&k==r+e){u.fill();m=!1;e=-e;o=1;k=r=v+e;continue}}if(!(null==t||null==p)){if(t<=p&&t<g.min){if(p<g.min)continue;q=(g.min-t)/(p-t)*(w-q)+q;t=g.min}else if(p<=t&&p<g.min){if(t<g.min)continue;w=(g.min-t)/(p-t)*(w-q)+q;p=g.min}if(t>=p&&t>g.max){if(p>g.max)continue;q=(g.max-t)/(p-t)*(w-q)+q;t=g.max}else if(p>=t&&p>g.max){if(t>g.max)continue;w=(g.max-t)/(p-t)*(w-q)+q;p=g.max}m||(u.beginPath(),u.moveTo(g.p2c(t),d.p2c(j)),m=!0);if(q>=d.max&&w>=d.max)u.lineTo(g.p2c(t),d.p2c(d.max)),u.lineTo(g.p2c(p),
d.p2c(d.max));else if(q<=d.min&&w<=d.min)u.lineTo(g.p2c(t),d.p2c(d.min)),u.lineTo(g.p2c(p),d.p2c(d.min));else{var A=t,E=p;q<=w&&q<d.min&&w>=d.min?(t=(d.min-q)/(w-q)*(p-t)+t,q=d.min):w<=q&&(w<d.min&&q>=d.min)&&(p=(d.min-q)/(w-q)*(p-t)+t,w=d.min);q>=w&&q>d.max&&w<=d.max?(t=(d.max-q)/(w-q)*(p-t)+t,q=d.max):w>=q&&(w>d.max&&q<=d.max)&&(p=(d.max-q)/(w-q)*(p-t)+t,w=d.max);t!=A&&u.lineTo(g.p2c(A),d.p2c(q));u.lineTo(g.p2c(t),d.p2c(q));u.lineTo(g.p2c(p),d.p2c(w));p!=E&&(u.lineTo(g.p2c(p),d.p2c(w)),u.lineTo(g.p2c(E),
d.p2c(w)))}}}}0<c&&b(a.datapoints,0,0,a.xaxis,a.yaxis);u.restore()}function o(a){function b(a,c,g,d,e,f,j){for(var n=a.points,a=a.pointsize,k=0;k<n.length;k+=a){var m=n[k],o=n[k+1];null==m||(m<f.min||m>f.max||o<j.min||o>j.max)||(u.beginPath(),u.arc(f.p2c(m),j.p2c(o)+d,c,0,e,!1),g&&(u.fillStyle=g,u.fill()),u.stroke())}}u.save();u.translate(z.left,z.top);var c=a.lines.lineWidth,g=a.shadowSize,d=a.points.radius;0<c&&0<g&&(g/=2,u.lineWidth=g,u.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,d,null,g+g/2,
Math.PI,a.xaxis,a.yaxis),u.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,d,null,g/2,Math.PI,a.xaxis,a.yaxis));u.lineWidth=c;u.strokeStyle=a.color;b(a.datapoints,d,da(a.points,a.color),0,2*Math.PI,a.xaxis,a.yaxis);u.restore()}function t(a,b,c,g,d,e,f,j,k,m,o,t){var r,q,p,v;o?(v=q=p=!0,r=!1,o=c,c=b+g,d=b+d,a<o&&(b=a,a=o,o=b,r=!0,q=!1)):(r=q=p=!0,v=!1,o=a+g,a+=d,d=c,c=b,c<d&&(b=c,c=d,d=b,v=!0,p=!1));if(!(a<j.min||o>j.max||c<k.min||d>k.max))if(o<j.min&&(o=j.min,r=!1),a>j.max&&(a=j.max,q=!1),d<k.min&&(d=
k.min,v=!1),c>k.max&&(c=k.max,p=!1),o=j.p2c(o),d=k.p2c(d),a=j.p2c(a),c=k.p2c(c),f&&(m.beginPath(),m.moveTo(o,d),m.lineTo(o,c),m.lineTo(a,c),m.lineTo(a,d),m.fillStyle=f(d,c),m.fill()),0<t&&(r||q||p||v))m.beginPath(),m.moveTo(o,d+e),r?m.lineTo(o,c+e):m.moveTo(o,c+e),p?m.lineTo(a,c+e):m.moveTo(a,c+e),q?m.lineTo(a,d+e):m.moveTo(a,d+e),v?m.lineTo(o,d+e):m.moveTo(o,d+e),m.stroke()}function $(a){u.save();u.translate(z.left,z.top);u.lineWidth=a.bars.lineWidth;u.strokeStyle=a.color;for(var c="left"==a.bars.align?
0:-a.bars.barWidth/2,b=a.datapoints,g=c+a.bars.barWidth,d=a.bars.fill?function(c,b){return da(a.bars,a.color,c,b)}:null,e=a.xaxis,f=a.yaxis,j=b.points,b=b.pointsize,k=0;k<j.length;k+=b)null!=j[k]&&t(j[k],j[k+1],j[k+2],c,g,0,d,e,f,u,a.bars.horizontal,a.bars.lineWidth);u.restore()}function da(a,c,b,g){var d=a.fill;if(!d)return null;if(a.fillColor)return ka(a.fillColor,b,g,c);a=j.color.parse(c);a.a="number"==typeof d?d:0.4;a.normalize();return a.toString()}function na(a){d.grid.hoverable&&C("plothover",
a,function(a){return!1!=a.hoverable})}function ma(a){C("plotclick",a,function(a){return!1!=a.clickable})}function C(a,c,b){var g=ea.offset(),e=c.pageX-g.left-z.left,j=c.pageY-g.top-z.top,k=E({left:e,top:j});k.pageX=c.pageX;k.pageY=c.pageY;var c=d.grid.mouseActiveRadius,m=c*c+1,o=null,r,t;for(r=A.length-1;0<=r;--r)if(b(A[r])){var q=A[r],p=q.xaxis,v=q.yaxis,u=q.datapoints.points,w=q.datapoints.pointsize,I=p.c2p(e),B=v.c2p(j),$=c/p.scale,G=c/v.scale;if(q.lines.show||q.points.show)for(t=0;t<u.length;t+=
w){var D=u[t],C=u[t+1];if(null!=D&&!(D-I>$||D-I<-$||C-B>G||C-B<-G))D=Math.abs(p.p2c(D)-e),C=Math.abs(v.p2c(C)-j),C=D*D+C*C,C<m&&(m=C,o=[r,t/w])}if(q.bars.show&&!o){p="left"==q.bars.align?0:-q.bars.barWidth/2;q=p+q.bars.barWidth;for(t=0;t<u.length;t+=w)if(D=u[t],C=u[t+1],v=u[t+2],null!=D&&(A[r].bars.horizontal?I<=Math.max(v,D)&&I>=Math.min(v,D)&&B>=C+p&&B<=C+q:I>=D+p&&I<=D+q&&B>=Math.min(v,C)&&B<=Math.max(v,C)))o=[r,t/w]}}o?(r=o[0],t=o[1],w=A[r].datapoints.pointsize,b={datapoint:A[r].datapoints.points.slice(t*
w,(t+1)*w),dataIndex:t,series:A[r],seriesIndex:r}):b=null;b&&(b.pageX=parseInt(b.series.xaxis.p2c(b.datapoint[0])+g.left+z.left),b.pageY=parseInt(b.series.yaxis.p2c(b.datapoint[1])+g.top+z.top));if(d.grid.autoHighlight){for(g=0;g<U.length;++g)e=U[g],e.auto==a&&(!b||!(e.series==b.series&&e.point==b.datapoint))&&Y(e.series,e.point);b&&ha(b.series,b.datapoint,a)}f.trigger(a,[k,b])}function R(){oa||(oa=setTimeout(ja,30))}function ja(){oa=null;L.save();L.clearRect(0,0,N,O);L.translate(z.left,z.top);var a,
c;for(a=0;a<U.length;++a)if(c=U[a],c.series.bars.show)ga(c.series,c.point);else{var b=c.series,g=c.point;c=g[0];var g=g[1],d=b.xaxis,f=b.yaxis;if(!(c<d.min||c>d.max||g<f.min||g>f.max)){var k=b.points.radius+b.points.lineWidth/2;L.lineWidth=k;L.strokeStyle=j.color.parse(b.color).scale("a",0.5).toString();b=1.5*k;L.beginPath();L.arc(d.p2c(c),f.p2c(g),b,0,2*Math.PI,!1);L.stroke()}}L.restore();e(Q.drawOverlay,[L])}function ha(a,c,b){"number"==typeof a&&(a=A[a]);if("number"==typeof c)var g=a.datapoints.pointsize,
c=a.datapoints.points.slice(g*c,g*(c+1));g=p(a,c);-1==g?(U.push({series:a,point:c,auto:b}),R()):b||(U[g].auto=!1)}function Y(a,c){null==a&&null==c&&(U=[],R());"number"==typeof a&&(a=A[a]);"number"==typeof c&&(c=a.data[c]);var b=p(a,c);-1!=b&&(U.splice(b,1),R())}function p(a,c){for(var b=0;b<U.length;++b){var g=U[b];if(g.series==a&&g.point[0]==c[0]&&g.point[1]==c[1])return b}return-1}function ga(a,c){L.lineWidth=a.bars.lineWidth;L.strokeStyle=j.color.parse(a.color).scale("a",0.5).toString();var b=
j.color.parse(a.color).scale("a",0.5).toString(),g="left"==a.bars.align?0:-a.bars.barWidth/2;t(c[0],c[1],c[2]||0,g,g+a.bars.barWidth,0,function(){return b},a.xaxis,a.yaxis,L,a.bars.horizontal,a.bars.lineWidth)}function ka(a,c,b,g){if("string"==typeof a)return a;for(var c=u.createLinearGradient(0,b,0,c),b=0,d=a.colors.length;b<d;++b){var e=a.colors[b];if("string"!=typeof e){var f=j.color.parse(g);null!=e.brightness&&(f=f.scale("rgb",e.brightness));null!=e.opacity&&(f.a*=e.opacity);e=f.toString()}c.addColorStop(b/
(d-1),e)}return c}var A=[],d={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,
tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,
markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},ia=null,ba=null,ea=null,u=null,L=null,D=[],K=[],z={left:0,right:0,top:0,bottom:0},N=0,O=0,X=0,P=0,Q={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[]},G=this;G.setData=v;G.setupGrid=ca;G.draw=W;G.getPlaceholder=function(){return f};G.getCanvas=function(){return ia};G.getPlotOffset=function(){return z};G.width=
function(){return X};G.height=function(){return P};G.offset=function(){var a=ea.offset();a.left+=z.left;a.top+=z.top;return a};G.getData=function(){return A};G.getAxis=function(a,c){var b=(a==x?D:K)[c-1];b&&!b.used&&(b=null);return b};G.getAxes=function(){var a={},c;for(c=0;c<D.length;++c)a["x"+(c?c+1:"")+"axis"]=D[c]||{};for(c=0;c<K.length;++c)a["y"+(c?c+1:"")+"axis"]=K[c]||{};a.x2axis||(a.x2axis={n:2});a.y2axis||(a.y2axis={n:2});return a};G.getXAxes=function(){return D};G.getYAxes=function(){return K};
G.getUsedAxes=B;G.c2p=E;G.p2c=function(a){var c={},b,g,d;for(b=0;b<D.length;++b)if((g=D[b])&&g.used)if(d="x"+g.n,null==a[d]&&1==g.n&&(d="x"),a[d]){c.left=g.p2c(a[d]);break}for(b=0;b<K.length;++b)if((g=K[b])&&g.used)if(d="y"+g.n,null==a[d]&&1==g.n&&(d="y"),a[d]){c.top=g.p2c(a[d]);break}return c};G.getOptions=function(){return d};G.highlight=ha;G.unhighlight=Y;G.triggerRedrawOverlay=R;G.pointOffset=function(a){return{left:parseInt(D[q(a,"x")-1].p2c(+a.x)+z.left),top:parseInt(K[q(a,"y")-1].p2c(+a.y)+
z.top)}};G.hooks=Q;for(ba=0;ba<c.length;++ba){var la=c[ba];la.init(G);la.options&&j.extend(!0,d,la.options)}j.extend(!0,d,a);null==d.xaxis.color&&(d.xaxis.color=d.grid.color);null==d.yaxis.color&&(d.yaxis.color=d.grid.color);null==d.xaxis.tickColor&&(d.xaxis.tickColor=d.grid.tickColor);null==d.yaxis.tickColor&&(d.yaxis.tickColor=d.grid.tickColor);null==d.grid.borderColor&&(d.grid.borderColor=d.grid.color);null==d.grid.tickColor&&(d.grid.tickColor=j.color.parse(d.grid.color).scale("a",0.22).toString());
for(a=0;a<Math.max(1,d.xaxes.length);++a)d.xaxes[a]=j.extend(!0,{},d.xaxis,d.xaxes[a]);for(a=0;a<Math.max(1,d.yaxes.length);++a)d.yaxes[a]=j.extend(!0,{},d.yaxis,d.yaxes[a]);d.xaxis.noTicks&&null==d.xaxis.ticks&&(d.xaxis.ticks=d.xaxis.noTicks);d.yaxis.noTicks&&null==d.yaxis.ticks&&(d.yaxis.ticks=d.yaxis.noTicks);d.x2axis&&(d.y2axis.position="top",d.xaxes[1]=d.x2axis);d.y2axis&&(void 0===d.y2axis.autoscaleMargin&&(d.y2axis.autoscaleMargin=0.02),d.y2axis.position="right",d.yaxes[1]=d.y2axis);d.grid.coloredAreas&&
(d.grid.markings=d.grid.coloredAreas);d.grid.coloredAreasColor&&(d.grid.markingsColor=d.grid.coloredAreasColor);d.lines&&j.extend(!0,d.series.lines,d.lines);d.points&&j.extend(!0,d.series.points,d.points);d.bars&&j.extend(!0,d.series.bars,d.bars);d.shadowSize&&(d.series.shadowSize=d.shadowSize);for(a=0;a<d.xaxes.length;++a)w(D,a+1).options=d.xaxes[a];for(a=0;a<d.yaxes.length;++a)w(K,a+1).options=d.yaxes[a];for(var Z in Q)d.hooks[Z]&&d.hooks[Z].length&&(Q[Z]=Q[Z].concat(d.hooks[Z]));e(Q.processOptions,
[d]);Z=function(a,c){var b=document.createElement("canvas");b.width=a;b.height=c;b.getContext||(b=window.G_vmlCanvasManager.initElement(b));return b};N=f.width();O=f.height();f.html("");"static"==f.css("position")&&f.css("position","relative");if(0>=N||0>=O)throw"Invalid dimensions for plot, width = "+N+", height = "+O;window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);ia=j(Z(N,O)).appendTo(f).get(0);u=ia.getContext("2d");ba=j(Z(N,O)).css({position:"absolute",left:0,top:0}).appendTo(f).get(0);
L=ba.getContext("2d");L.stroke();v(m);ca();W();ea=j([ba,ia]);d.grid.hoverable&&ea.mousemove(na);d.grid.clickable&&ea.click(ma);e(Q.bindEvents,[ea]);var U=[],oa=null}function b(b,j){return j*Math.floor(b/j)}j.plot=function(b,k,a){return new m(j(b),k,a,j.plot.plugins)};j.plot.plugins=[];j.plot.formatDate=function(b,j,a){var c=function(a){a=""+a;return 1==a.length?"0"+a:a},e=[],m=!1,q=!1,E=b.getUTCHours(),B=12>E;null==a&&(a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=j.search(/%p|%P/)&&
(12<E?E-=12:0==E&&(E=12));for(var w=0;w<j.length;++w){var r=j.charAt(w);if(m){switch(r){case "h":r=""+E;break;case "H":r=c(E);break;case "M":r=c(b.getUTCMinutes());break;case "S":r=c(b.getUTCSeconds());break;case "d":r=""+b.getUTCDate();break;case "m":r=""+(b.getUTCMonth()+1);break;case "y":r=""+b.getUTCFullYear();break;case "b":r=""+a[b.getUTCMonth()];break;case "p":r=B?"am":"pm";break;case "P":r=B?"AM":"PM";break;case "0":r="",q=!0}r&&q&&(r=c(r),q=!1);e.push(r);q||(m=!1)}else"%"==r?m=!0:e.push(r)}return e.join("")}})(jQuery);
(function(){jQuery.color={};jQuery.color.make=function(j,b,f,k){var a={};a.r=j||0;a.g=b||0;a.b=f||0;a.a=null!=k?k:1;a.add=function(b,e){for(var f=0;f<b.length;++f)a[b.charAt(f)]+=e;return a.normalize()};a.scale=function(b,e){for(var f=0;f<b.length;++f)a[b.charAt(f)]*=e;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,c,f){return c<a?a:c>f?f:c}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),
255);a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(j,b){var f;do{f=j.css(b).toLowerCase();if(""!=f&&"transparent"!=f)break;j=j.parent()}while(!jQuery.nodeName(j.get(0),"body"));"rgba(0, 0, 0, 0)"==f&&(f="transparent");return jQuery.color.parse(f)};jQuery.color.parse=function(m){var b,f=jQuery.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(m))return f(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return f(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(m))return f(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return f(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(m))return f(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(m))return f(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));m=jQuery.trim(m).toLowerCase();if("transparent"==m)return f(255,255,255,0);b=j[m];return f(b[0],b[1],b[2])};var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(j){function m(f,a,c){var e=this,m=f.add(this),q=f.find(c.tabs),E=a.jquery?a:f.children(a),B;q.length||(q=f.children());E.length||(E=f.parent().find(a));E.length||(E=j(a));j.extend(this,{click:function(a,f){var k=q.eq(a);"string"==typeof a&&a.replace("#","")&&(a=a.replace(/([\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1"),k=q.filter("[href*="+a.replace("#","")+"]"),a=Math.max(q.index(k),0));if(c.rotate){var E=q.length-1;if(0>a)return e.click(E,f);if(a>E)return e.click(0,
f)}if(!k.length){if(0<=B)return e;a=c.initialIndex;k=q.eq(a)}if(a===B)return e;f=f||j.Event();f.type="onBeforeClick";m.trigger(f,[a]);if(!f.isDefaultPrevented())return b[c.effect].call(e,a,function(){f.type="onClick";m.trigger(f,[a])}),B=a,q.removeClass(c.current),k.addClass(c.current),e},getConf:function(){return c},getTabs:function(){return q},getPanes:function(){return E},getCurrentPane:function(){return E.eq(B)},getCurrentTab:function(){return q.eq(B)},getIndex:function(){return B},next:function(){return e.click(B+
1)},prev:function(){return e.click(B-1)},destroy:function(){q.unbind(c.event).removeClass(c.current);E.find("a[href^=#]").unbind("click.T");return e}});j.each(["onBeforeClick","onClick"],function(a,b){j.isFunction(c[b])&&j(e).bind(b,c[b]);e[b]=function(a){j(e).bind(b,a);return e}});c.history&&j.fn.history&&(j.tools.history.init(q),c.event="history");q.each(function(a){j(this).bind(c.event,function(b){e.click(a,b);return b.preventDefault()})});E.find("a[href^=#]").bind("click.T",function(a){e.click(j(this).attr("href"),
a)});location.hash?e.click(location.hash):(0===c.initialIndex||0<c.initialIndex)&&e.click(c.initialIndex)}j.tools=j.tools||{version:"@VERSION"};j.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(f,a){b[f]=a}};var b={"default":function(b,a){this.getPanes().hide().eq(b).show();a.call()},fade:function(b,a){var c=this.getConf(),e=c.fadeOutSpeed,f=this.getPanes();e?f.fadeOut(e):f.hide();f.eq(b).fadeIn(c.fadeInSpeed,
a)},slide:function(b,a){this.getPanes().slideUp(200);this.getPanes().eq(b).slideDown(400,a)},ajax:function(b,a){this.getPanes().eq(0).load(this.getTabs().eq(b).attr("href"),a)}},f;j.tools.tabs.addEffect("horizontal",function(b,a){f||(f=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){j(this).hide()});this.getPanes().eq(b).animate({width:f},function(){j(this).show();a.call()})});j.fn.tabs=function(b,a){var c=this.data("tabs");c&&(c.destroy(),this.removeData("tabs"));
j.isFunction(a)&&(a={onBeforeClick:a});a=j.extend({},j.tools.tabs.conf,a);this.each(function(){c=new m(j(this),b,a);j(this).data("tabs",c)});return a.api?c:this}})(jQuery);
(function(j){var m="undefined"!=typeof window.innerWidth?function(){return{w:window.innerWidth,h:window.innerHeight}}:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?function(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}:function(){return{w:document.getElementsByTagName("body")[0].clientWidth,h:document.getElementsByTagName("body")[0].clientHeight}};window.kbs=
function(b){j(".kbs.current",b).removeClass("current");var f=j(".domain-section:first",b),k=j(".domain-section:last",b),a=this.scroll_to=function(a){var b=j(document).scrollTop();j(document).height();var c=m().h,c=b+c,e=a.offset().top,a=e+a.height();e<b?j(document).scrollTop(e):a>c&&j(document).scrollTop(b+(a-c))},c=this.get_current=function(){return j(".kbs.current:first",b)},e=this.set_next=function(b,e,f){b=b||c();e.length&&(b.removeClass("current"),e.addClass("current"),f||a(e))},v=this.next_domain=
function(a){var b=c(),f=q(b);f&&(f=f.find(".kbs:first"),e(b,f,a))},q=this._next_domain=function(a){if(!a||!a.length)return j(".domain-section:first",b);a=a.closest(".domain-section");return!a.length||a[0]===k[0]?f:a.next(".domain-section")},E=this.prev_domain=function(){var a=c(),b=B(a);b&&(b=b.find(".kbs:first"),e(a,b))},B=this._prev_domain=function(a){if(!a||!a.length)return j(".domain-section:last",b);var c=a.closest(".domain-section");return a.closest(".property-section").length||a.closest(".type-section").length?
c:!c.length||c[0]===f[0]?k:c.prev(".domain-section")},w=this.next_type=function(){var a=c(),b=r(a);b&&(b=b.find(".kbs:first"),e(a,b))},r=this._next_type=function(a){if(!a||!a.length)return j(".type-section:first",b);var c=a.closest(".domain-section"),a=a.closest(".type-section"),a=a.length?a.next(".type-section"):c.find(".type-section:first");if(!a||!a.length){var e=q(c);if(e)for(;e.get(0)!==c.get(0);){a=e.find(".type-section:first");if(a.length)break;e=q(e)}}return a},I=this.prev_type=function(){var a=
c(),b=S(a);b&&(b=b.find(".kbs:first"),e(a,b))},S=this._prev_type=function(a){if(!a||!a.length)return j(".type-section:last",b);var c=a.closest(".domain-section"),e=a.closest(".type-section");if(a.closest(".property-section").length)return e;var f;e.length&&(f=e.prev(".type-section"));if(!f||!f.length)if(a=B(c))for(;a.get(0)!==c.get(0);){f=a.find(".type-section:last");if(f.length)break;a=B(a)}return f},ca=this.next_prop=function(){var a=c(),b=fa(a);b&&(b=b.find(".kbs:first"),e(a,b))},fa=this._next_prop=
function(a){if(!a||!a.length)return j(".property-section:first",b);var c=a.closest(".domain-section"),e=a.closest(".type-section"),f=a.closest(".property-section"),c=f.length?f.next(".property-section"):e.length?e.find(".property-section:first"):c.find(".property-section:first");if(!c||!c.length)if(a=r(a))for(;a.get(0)!==e.get(0);){c=a.find(".property-section:first");if(c.length)break;null==e.get(0)&&(e=a);a=r(a)}return c},W=this.prev_prop=function(){var a=c(),b=T(a);b&&(b=b.find(".kbs:first"),e(a,
b))},T=this._prev_prop=function(a){if(!a||!a.length)return j(".property-section:last",b);var c=a.closest(".domain-section"),e=a.closest(".type-section"),f=a.closest(".property-section");if(a.closest(".data-section").length)return f;var k;f.length&&(k=f.prev(".property-section"));if(!k||!k.length)if(I=e.length?S(e):S(c))for(;I.get(0)!==e.get(0);){k=I.find(".property-section:last");if(k.length)break;null==e.get(0)&&(e=I);I=S(I)}return k};this.next=function(){var a=c();if(a&&a.length){var f=this._next(a);
if(f){e(a,f);return}}a=j(".kbs:visible:first",b);e(a,a)};this._next=function(a){if(!a||!a.length)return j(".domain-section:first .kbs:first",b);var c=a.closest(".domain-section"),e=a.closest(".type-section"),m=a.closest(".property-section");if(a.closest(".data-section").length){a=a.next(".kbs");if(a.length)return a;a=m.next(".property-section").find(".kbs:first");if(a.length)return a;a=e.next(".type-section").find(".kbs:first")}else if(m.length){a=m.find(".data-section:first .kbs:first");if(a.length)return a;
a=m.next(".property-section").find(".kbs:first");if(a.length)return a;a=e.next(".type-section").find(".kbs:first")}else if(e.length){a=e.find(".property-section:first .kbs:first");if(a.length)return a;a=e.next(".type-section").find(".kbs:first")}else a=c.find(".type-section:first .kbs:first");return a.length?a:c.get(0)===k.get(0)?f.find(".kbs:first"):c.next(".domain-section").find(".kbs:first")};this.prev=function(){var a=c(),b=this._prev(a);b&&e(a,b)};this._prev=function(a){if(!a||!a.length)return a=
j(".data-section:last .kbs:last",b),a.length||(a=j(".property-section:last .kbs:first",b)),a.length||(a=j(".type-section:last .kbs:first",b)),a.length||(a=j(".domain-section:last .kbs:first",b)),a;var c=a.closest(".domain-section"),e=a.closest(".type-section"),m=a.closest(".property-section");return a.closest(".data-section").length?(a=a.prev(".kbs"),a.length?a:m.find(".kbs:first")):m.length?(a=m.prev(".property-section").find(".kbs:last"),a.length?a:e.find(".kbs:first")):e.length?(a=e.prev(".type-section").find(".kbs:last"),
a.length?a:c.find(".kbs:first")):c.get(0)===f.get(0)?k.find(".kbs:last"):c.prev(".domain-section").find(".kbs:last")};this.edit=function(){this.get_current().trigger("edit")};var V=this;j(document).unbind(".kbs").bind("keydown.kbs",function(a){var b=a.target;if(b==document.body||b==document||b==window||b==j("html")[0])b=a.keyCode,68===b?a.shiftKey?E():v():84===b?a.shiftKey?I():w():80===b?a.shiftKey?W():ca():74===b?V.next():75===b?V.prev():69===b&&V.edit()})}})(jQuery);
(function(j,m){var b=window.propbox={init:function(f,k){k=j.extend({lang:"/lang/en"},k);if(!k.base_ajax_url)throw Error("base_ajax_url required in propbox options");if(!k.base_static_url)throw Error("base_static_url required in propbox options");if(!k.id)throw Error("topic id required in propbox options");if(!k.lang)throw Error("lang required in propbox options");b.options=k;b.kbs=new m(f);j(".kbs",f).live("click",function(){var a=b.kbs.get_current();b.kbs.set_next(a,j(this),!0)}).live("edit",function(){var a=
j(this).find(".headmenu:first").data("submenu");a&&j("li:first a:first",a).click()});b.init_menus(f)},init_menus:function(f,k){f=j(f||document);k&&j(".nicemenu",f).nicemenu();var a;a=f&&f.is(".hover-row")?f:j(".hover-row",f);a.hover(b.row_menu_hoverover,b.row_menu_hoverout);a.dblclick(function(){var a=j(".nicemenu .default-action",this);a.length||(a=j(".nicemenu:first .submenu:first a:first",this));var b=a.attr("href");b&&("#"==b||0==b.indexOf("javascript:void(0)"))&&j(a).click()});j(".nicemenu .headmenu",
f).add(j(".nicemenu .default-action",f)).click("click",function(){if(b.kbs){var a=b.kbs.get_current();a&&b.kbs.set_next(a,j(this).parents(".kbs:first"),!0)}return!1})},row_menu_hoverover:function(){j(this).addClass("row-hover")},row_menu_hoverout:function(){j(this).removeClass("row-hover")},get_script:function(f,k){var a=b.get_script.cache;a||(a=b.get_script.cache={});var c=a[f];c?1===c.state?c.callbacks.push(k):4===c.state&&k():(c=a[f]={state:0,callbacks:[k]},j.ajax({url:b.options.base_static_url+
f,dataType:"script",cache:!0,beforeSend:function(){c.state=1},success:function(){c.state=4;j.each(c.callbacks,function(a,b){b()})},error:function(){c.state=-1}}))},prop_edit:function(f,k){var a=j(f).parents(".property-section");a.length||(a=j(f).parents(".submenu").data("headmenu").parents(".property-section"));a=a.find(".data-section .data-row:first:visible .nicemenu:first .headmenu");a.length?a.data("submenu").find("a:first").click():b.prop_add(f,k);return!1},prop_add:function(f,k){var a=j(f).parents(".property-section");
a.length||(a=j(f).parents(".submenu").data("headmenu").parents(".property-section"));b.get_script("/propbox-edit.mf.js",function(){b.edit.prop_add_begin(a,k)});return!1},value_edit:function(f){var k=j(f).parents(".submenu").data("headmenu").parents(".data-row:first"),a=k.parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.value_edit_begin(a,k)});return!1},value_delete:function(f){var k=j(f).parents(".submenu").data("headmenu").parents(".data-row:first"),a=k.parents(".property-section");
b.get_script("/propbox-edit.mf.js",function(){b.edit.value_delete_begin(a,k)});return!1},remove_type:function(f){var f=j(f),k=f.parents(".type-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_type_begin(f,k)});return!1},add_type:function(f,k,a){var f=j(f),c=f.parents(".type-section"),e=b.options.incompatible_types;e?e.search(b.options.id,k,a,{compatible:function(){b.add_type_submit(f,c)},incompatible:e.overlay_incompatible_callback({onConfirm:function(){b.add_type_submit(f,c)}})}):
b.add_type_submit(f,c);return!1},add_type_submit:function(f,j){b.get_script("/propbox-edit.mf.js",function(){b.edit.add_type_submit(f,j)})},add_has_no_value:function(f){var k=j(f).parents(".submenu").data("headmenu").parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.add_has_no_value(k)});return!1},add_has_value:function(f){var k=j(f).parents(".submenu").data("headmenu").parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.add_has_value(k)});
return!1},remove_has_no_value:function(f){var k=j(f).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_has_no_value(k)});return!1},remove_has_value:function(f){var k=j(f).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_has_value(k)});return!1},more:function(f,k,a){var c=j(f).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.more(c,k,a)})}}})(jQuery,window.kbs);
(function(j,m,b){m.infinitescroll=function(a,b,e){this.element=m(e);this._create(a,b)};m.infinitescroll.defaults={loading:{finished:b,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:b},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},callback:b,debug:!1,behavior:b,binder:m(j),nextSelector:"div.navigation a:first",
navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:b,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:b,path:b};m.infinitescroll.prototype={_binding:function(a){var c=this,e=c.options;if(e.behavior&&this["_binding_"+e.behavior]!==b)this["_binding_"+e.behavior].call(this);else{if("bind"!==a&&"unbind"!==a)return this._debug("Binding value  "+a+" not valid"),!1;if("unbind"==a)this.options.binder.unbind("smartscroll.infscr."+
c.options.infid);else this.options.binder[a]("smartscroll.infscr."+c.options.infid,function(){c.scroll()});this._debug("Binding",a)}},_create:function(a,c){if(!this._validate(a))return!1;var e=this.options=m.extend(!0,{},m.infinitescroll.defaults,a),f=m(e.nextSelector).attr("href");e.contentSelector=e.contentSelector||this.element;e.loading.selector=e.loading.selector||e.contentSelector;f?(e.path=this._determinepath(f),e.loading.msg=m('<div id="infscr-loading"><img alt="Loading..." src="'+e.loading.img+
'" /><div>'+e.loading.msgText+"</div></div>"),(new Image).src=e.loading.img,e.pixelsFromNavToBottom=m(document).height()-m(e.navSelector).offset().top,e.loading.start=e.loading.start||function(){m(e.navSelector).hide();e.loading.msg.appendTo(e.loading.selector).show(e.loading.speed,function(){beginAjax(e)})},e.loading.finished=e.loading.finished||function(){e.loading.msg.fadeOut("normal")},e.callback=function(a,f){e.behavior&&a["_callback_"+e.behavior]!==b&&a["_callback_"+e.behavior].call(m(e.contentSelector)[0],
f);c&&c.call(m(e.contentSelector)[0],f)},this._setup()):this._debug("Navigation selector not found")},_debug:function(){if(this.options.debug)return j.console&&console.log.call(console,arguments)},_determinepath:function(a){var c=this.options;if(c.behavior&&this["_determinepath_"+c.behavior]!==b)this["_determinepath_"+c.behavior].call(this,a);else{if(c.pathParse)return this._debug("pathParse manual"),"function"===typeof c.pathParse?c.pathParse():c.pathParse;if(a.match(/^(.*?)\b2\b(.*?$)/))a=a.match(/^(.*?)\b2\b(.*?$)/).slice(1);
else if(a.match(/^(.*?)2(.*?$)/)){if(a.match(/^(.*?page=)2(\/.*|$)/))return a=a.match(/^(.*?page=)2(\/.*|$)/).slice(1);a=a.match(/^(.*?)2(.*?$)/).slice(1)}else{if(a.match(/^(.*?page=)1(\/.*|$)/))return a=a.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");c.state.isInvalidPage=!0}this._debug("determinePath",
a);return a}},_error:function(a){var c=this.options;c.behavior&&this["_error_"+c.behavior]!==b?this["_error_"+c.behavior].call(this,a):("destroy"!==a&&"end"!==a&&(a="unknown"),this._debug("Error",a),"end"==a&&this._showdonemsg(),c.state.isDone=!0,c.state.currPage=1,c.state.isPaused=!1,this._binding("unbind"))},_loadcallback:function(a,c){var e=this.options,f=this.options.callback,k=e.state.isDone?"done":!e.appendCallback?"no-append":"append";if(e.behavior&&this["_loadcallback_"+e.behavior]!==b)this["_loadcallback_"+
e.behavior].call(this,a,c);else{switch(k){case "done":return this._showdonemsg(),!1;case "no-append":"html"==e.dataType&&(c=m("<div>"+c+"</div>").find(e.itemSelector));break;case "append":var E=a.children();if(0==E.length)return this._error("end");for(k=document.createDocumentFragment();a[0].firstChild;)k.appendChild(a[0].firstChild);this._debug("contentSelector",m(e.contentSelector)[0]);m(e.contentSelector)[0].appendChild(k);c=E.get()}e.loading.finished.call(m(e.contentSelector)[0],e);e.animate&&
(k=m(j).scrollTop()+m("#infscr-loading").height()+e.extraScrollPx+"px",m("html,body").animate({scrollTop:k},800,function(){e.state.isDuringAjax=!1}));e.animate||(e.state.isDuringAjax=!1);f(this,c)}},_nearbottom:function(){var a=this.options,c=0+m(document).height()-a.binder.scrollTop()-m(j).height();if(a.behavior&&this["_nearbottom_"+a.behavior]!==b)this["_nearbottom_"+a.behavior].call(this);else return this._debug("math:",c,a.pixelsFromNavToBottom),c-a.bufferPx<a.pixelsFromNavToBottom},_pausing:function(a){var c=
this.options;if(c.behavior&&this["_pausing_"+c.behavior]!==b)this["_pausing_"+c.behavior].call(this,a);else{"pause"!==a&&("resume"!==a&&null!==a)&&this._debug("Invalid argument. Toggling pause value instead");switch(a&&("pause"==a||"resume"==a)?a:"toggle"){case "pause":c.state.isPaused=!0;break;case "resume":c.state.isPaused=!1;break;case "toggle":c.state.isPaused=!c.state.isPaused}this._debug("Paused",c.state.isPaused);return!1}},_setup:function(){var a=this.options;if(a.behavior&&this["_setup_"+
a.behavior]!==b)this["_setup_"+a.behavior].call(this);else return this._binding("bind"),!1},_showdonemsg:function(){var a=this.options;a.behavior&&this["_showdonemsg_"+a.behavior]!==b?this["_showdonemsg_"+a.behavior].call(this):(a.loading.msg.find("img").hide().parent().find("div").html(a.loading.finishedMsg).animate({opacity:1},2E3,function(){m(this).parent().fadeOut("normal")}),a.errorCallback.call(m(a.contentSelector)[0],"done"))},_validate:function(a){for(var b in a)return b.indexOf&&-1<b.indexOf("Selector")&&
0===m(a[b]).length?(this._debug("Your "+b+" found no elements."),!1):!0},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=!0;return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},retrieve:function(a){var c=this,e=c.options,f=this._determinepath(f),j,k,B,w,a=a||null;beginAjax=function(a){a.state.currPage++;c._debug("heading into ajax",f);j=m(a.contentSelector).is("table")?m("<tbody/>"):m("<div/>");
k=f.join(a.state.currPage);B="html"==a.dataType||"json"==a.dataType?a.dataType:"html+callback";a.appendCallback&&"html"==a.dataType&&(B+="+callback");switch(B){case "html+callback":c._debug("Using HTML via .load() method");j.load(k+" "+a.itemSelector,null,function(a){c._loadcallback(j,a)});break;case "html":case "json":c._debug("Using "+B.toUpperCase()+" via $.ajax() method"),m.ajax({url:k,dataType:a.dataType,complete:function(a,b){(w="undefined"!==typeof a.isResolved?a.isResolved():"success"===b||
"notmodified"===b)?c._loadcallback(j,a.responseText):c._error("end")}})}};if(e.behavior&&this["retrieve_"+e.behavior]!==b)this["retrieve_"+e.behavior].call(this,a);else{if(e.state.isDestroyed)return this._debug("Instance is destroyed"),!1;e.state.isDuringAjax=!0;e.loading.start.call(m(e.contentSelector)[0],e)}},scroll:function(){var a=this.options,c=a.state;a.behavior&&this["scroll_"+a.behavior]!==b?this["scroll_"+a.behavior].call(this):!c.isDuringAjax&&!c.isInvalidPage&&!c.isDone&&!c.isDestroyed&&
!c.isPaused&&this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(a){m.isPlainObject(a)&&(this.options=m.extend(!0,this.options,a))}};m.fn.infinitescroll=function(a,b){switch(typeof a){case "string":var e=Array.prototype.slice.call(arguments,1);this.each(function(){var b=m.data(this,"infinitescroll");if(!b||!m.isFunction(b[a])||"_"===a.charAt(0))return!1;b[a].apply(b,e)});break;case "object":this.each(function(){var e=m.data(this,
"infinitescroll");e?e.update(a):m.data(this,"infinitescroll",new m.infinitescroll(a,b,this))})}return this};var f=m.event,k;f.special.smartscroll={setup:function(){m(this).bind("scroll",f.special.smartscroll.handler)},teardown:function(){m(this).unbind("scroll",f.special.smartscroll.handler)},handler:function(a,b){var e=this,f=arguments;a.type="smartscroll";k&&clearTimeout(k);k=setTimeout(function(){m.event.handle.apply(e,f)},"execAsap"===b?0:100)}};m.fn.smartscroll=function(a){return a?this.bind("smartscroll",
a):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);
(function(j,m){var b=m.collection={init_infinitescroll:function(){var f=j("#infinitescroll"),k=f.attr("data-next");if(k&&"false"!==k){var a=j("#infinitescroll-next");f.infinitescroll({loading:{msgText:"Fetching more topics",img:m.h.static_url("lib/template/img/horizontal-loader.gif")},nextSelector:"#infinitescroll-next",navSelector:"#infinitescroll-next",dataType:"json",pathParse:function(){return[a[0].href+"&"+j.param({cursor:f.attr("data-next")})+"&page=",""]},appendCallback:!1},function(a){var a=
JSON.parse(a),e=a.result.cursor,a=j(a.result.html);b.init_menus(a);b.load_blurbs(a);f.append(a);e?f.attr("data-next",e):j(window).unbind(".infscr")});setTimeout(function(){j(window).trigger("scroll")})}},init_menus:function(f,k){f=j(f||document);k&&j(".nicemenu",f).nicemenu();(f&&f.is(".data-row")?f:j(".data-row",f)).hover(b.row_menu_hoverover,b.row_menu_hoverout);j(".nicemenu .headmenu",f).add(j(".nicemenu .default-action",f))},load_blurbs:function(b){j(".load-blurb",b).each(function(b,a){var c=
[m.acre.freebase.googleapis_url,"/text",j(a).attr("data-id"),"?key=",m.acre.freebase.api_key].join("");j.getJSON(c,function(b){b=b.result.split(/\s+/);j(a).text(b.slice(0,30).join(" "))})})},row_menu_hoverover:function(){var f=j(this);b.row_menu_hoverover.timeout=setTimeout(function(){f.addClass("row-hover")},300)},row_menu_hoverout:function(){clearTimeout(b.row_menu_hoverover.timeout);j(this).removeClass("row-hover")},row_edit:function(f){var k=j(f).parents(".submenu").data("headmenu").parents(".data-row:first");
m.get_script(m.h.ajax_url("lib/collection/collection-edit.mf.js"),function(){b.edit.row_edit_begin(k)});return!1},init:function(){b.init_infinitescroll();b.init_menus();b.load_blurbs();return b}};b.init()})(jQuery,window.freebase);
(function(j,m){var b=m.data={init_data_tabs:function(){var b=j("ul.tabs"),k=0;j("a",b).each(function(a){j(this).hasClass("current")&&(k=a)});b.tabs("div.panes > .pane",{effect:"fade",initialIndex:k})},init_activity_chart:function(b){j(".activity-summary",b).each(function(){for(var b=j(this),a=JSON.parse(b.attr("data-activity")),c=[],e=1;e<a.length;e++){var f=parseInt(a[e].v,10);c.push([e,f])}j.plot(b,[{data:c,lines:{show:!0},points:{show:!0,radius:2,fill:!0,fillColor:"#f71"},shadowSize:0,color:"#f71"}],
{grid:{show:!0,color:"#fff",borderWidth:0,hoverable:!0,autoHighlight:!0,mouseActiveRadius:3},legend:{show:!1},xaxis:{tickFormatter:function(){return""},ticks:[]},yaxis:{tickFormatter:function(){return""},ticks:[]}})})}};j(function(){b.init_data_tabs();b.init_activity_chart()})})(jQuery,window.freebase);
